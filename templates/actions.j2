{% macro init(workdir) -%}
runs-on: ubuntu-latest
defaults:
  run:
    working-directory: ${{ workdir }}
steps:
  - uses: actions/checkout@v4
    with:
      fetch-depth: 0
{% endmacro %}

{% macro upload(name, paths=[]) -%}
- name: upload {{ name }}
  uses: actions/upload-artifact@v3
  with:
    name: {{ name }}
    path: |
      {% for path in paths %}
        {{ path }}
      {% endfor %}
{% endmacro %}

{% macro download(name, paths=[]) -%}
- name: download {{ name }}
  uses: actions/download-artifact@v3
  with:
    name: {{ name }}
    path: |
      {% for path in paths %}
        {{ path }}
      {% endfor %}
{% endmacro %}


