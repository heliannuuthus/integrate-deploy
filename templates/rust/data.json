{
  "variables": {
    "inputs": [
      {
        "name": "workdir",
        "default": "./",
        "desc": "Specify all of steps where are run",
        "type": "string",
        "required": "false"
      },
      {
        "name": "user",
        "required": "true",
        "type": "string",
        "desc": "publisher"
      }
    ],
    "secrets": [
      {
        "name": "SONAR_HOST_URL",
        "desc": "Sonarqube host url",
        "required": "false"
      },
      {
        "name": "SONAR_TOKEN",
        "desc": "Sonarqube Token",
        "required": "false"
      },
      {
        "name": "token",
        "desc": "Sonarqube Token",
        "required": "true"
      }
    ],
    "outputs": []
  },
  "lint": {},
  "security": {},
  "build": {
    "upload": {
      "name": "target",
      "paths": [
        "${{ inputs.workdir }}target/release/${{ steps.environments.outputs.project }}",
        "${{ inputs.workdir }}target/default/report.xml",
        "${{ inputs.workdir }}target/cobertura.xml"
      ]
    }
  },
  "containerize": {
    "download": {
      "name": "target",
      "paths": [
        "${{ inputs.workdir }}target/release/${{ steps.environments.outputs.project }}",
        "${{ inputs.workdir }}target/default/report.xml",
        "${{ inputs.workdir }}target/cobertura.xml"
      ]
    }
  }
}
